<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta name="google-site-verification" content="c6r4YUg5mxq7D7PRfX2K-eUcAYv6Awu0F-cU3caM9dc" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="raspi@GitHub">
<meta name="author" content="Pekka Järvinen">
<link rel="icon" href="/favicon.png">

<title>Uptime and downtime SLA </title>

<!-- Bootstrap core CSS -->
<link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">

<!-- Custom styles for this template -->
<link href="/jumbotron.css" rel="stylesheet">
    </head>

    <body>

        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="/"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> &nbsp; raspi@GitHub</a>
                </div>

                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="/projects"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> &nbsp; Projects</a></li>
                    </ul>
                </div>
        </nav>

        <!-- Main jumbotron for a primary marketing message or call to action -->
        <!-- <div class="jumbotron">
          <div class="container">
            <h1>Hello, world!</h1>
            <p>This is a template for a simple marketing or informational website. It includes a large callout called a jumbotron and three supporting pieces of content. Use it as a starting point to create something more unique.</p>
            <p><a class="btn btn-primary btn-lg" href="#" role="button">Learn more &raquo;</a></p>
          </div>
        </div> -->

        <div class="container">

            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <!-- Mainos -->
            <ins class="adsbygoogle"
                 style="display:inline-block;width:728px;height:90px"
                 data-ad-client="ca-pub-5396746781472027"
                 data-ad-slot="6167495996"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>

            <br />

                <p><!-- Dojo -->
<script src="//ajax.googleapis.com/ajax/libs/dojo/1.11.2/dojo/dojo.js"></script></p>

<script type="text/javascript">

require(["dojo/dom-construct", "dojo/number", "dojo/_base/array", "dojo/domReady!"],

function (domConstruct, number, arr) {

    function secondsToTime(s, units) {

        var o = {};

        arr.forEach(Object.keys(units), function(entry, i) {
            // Set all units to zero
            o[entry] = 0;
        });

        // Populate units
        arr.forEach(Object.keys(units), function(entry, i) {
            var duration = units[entry].duration;
            if (s >= duration) {
                o[entry] = s / duration;
                s /= duration;
            }
        });

        var html = "";

        arr.forEach(Object.keys(units), function(entry, i) {
            if(o[entry] > 0)
            {
                var u = units[entry].plural;
                if(o[entry] == 1) {
                    u = units[entry].single;
                }
                html += number.format(o[entry]) + " " + u + ", ";
            }
        });

        return html.replace(/,\s+$/, "");
    }

    function percentagesToTable(percents, seconds)
    {
        var _units = {
                "day": {"single": "day", "plural": "days", "duration": 60 * 60 * 24},
                "hour": {"single": "hour", "plural": "hours", "duration": 60 * 60},
                "min": {"single": "minute", "plural": "minutes", "duration": 60},
                "sec": {"single": "second", "plural": "seconds", "duration": 1}
        };

        var html = "";

        html += "<table class='table table-striped table-hover'>\n";

        html += "<thead>";
        html += "<tr>";
        html += "  <td>";
        html += "Percentage";
        html += "</td>\n";
        html += "  <td>";
        html += "Time";
        html += "</td>\n";
        html += "  <td>";
        html += "In seconds";
        html += "</td>\n";
        html += "</thead>\n";

        for (var i = 0; i < percentages.length; i++) {
            percentage = percentages[i];
            secs = (100 - percentage) / 100 *  seconds;

            html += "<tr>";
            html += "  <td>";
            html += percentage + " %";
            html += "</td>\n";
            html += "  <td>";
            html += secondsToTime(secs, _units);
            html += "</td>\n";
            html += "  <td>";
            html += number.format(secs);
            html += "</td>\n";
            html += "</tr>\n";

        }

        html += "</table>\n\n";

        return html;
    }

/*
********************************************************************************
*/

    // Percentages
    var percentages = [0.1, 0.5];

    for (var i = 1; i <= 99; i++) {
        percentages.push(i);
    }

    percentages.push(99.5);
    percentages.push(99.9);
    percentages.push(99.99);
    percentages.push(99.999);
    percentages.push(99.9999);
    percentages.push(99.99999);

    percentages = percentages.reverse();

    // Year
    var yearseconds = 60 * 60 * 24 * 365;

    var html = "";
    html += "<p>";
    html += "Using " + yearseconds + " seconds per year (average).";
    html += "</p>";

    domConstruct.place(html, "slatimesyear", "only");
    domConstruct.place(percentagesToTable(percentages, yearseconds), "slatimesyear", "append");

    // Month
    var monthseconds = 60 * 60 * 24 * 30;

    var html = "";
    html += "<p>";
    html += "Using " + monthseconds + " seconds per month (average).";
    html += "</p>";

    domConstruct.place(html, "slatimesmonth", "only");
    domConstruct.place(percentagesToTable(percentages, monthseconds), "slatimesmonth", "append");

});
</script>

<h1>Uptime  / downtime SLA % times</h1>

<p>How long service can be down?</p>

<h2>Downtimes per year.</h2>

<div id="slatimesyear">Loading..</div>

<h2>Downtimes per month</h2>

<div id="slatimesmonth">Loading..</div>

<hr />

<p>This page was last updated on 2017-02-09T16:00:59+0200.</p>



            <hr>

            <footer>
                <p>&copy; <a href='http://raspi.fi/'>Pekka "raspi" Järvinen</a></p>
            </footer>

        </div> <!-- /container -->



        <script>
            var _gaq = [['_setAccount', 'UA-37317362-1'], ['_trackPageview']];
            (function (d, t) {
                var g = d.createElement(t), s = d.getElementsByTagName(t)[0];
                g.src = ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
                s.parentNode.insertBefore(g, s)
            }(document, 'script'));
        </script>        

    </body>
</html>

